## FAQ

### `.tm`文件格式相关

+ Q：图灵机定义中的“终结状态”是指走到这些状态就停机吗？

  + 并不是，而是走到这些状态就接受。本次实验中，图灵机**当且仅当**找不到可用转移时停机。

+ Q：是否可以认为`.tm`文件中对图灵机各个成员的定义顺序和图灵机程序语法中描述的顺序一致？

  + 是的。

+ Q：`.tm`文件中是否会出现行尾注释？

  + 是的。

+ Q：是否可以认为测试样例的`.tm`文件中，除转移函数以外的图灵机成员的定义只占一行？

  + 是的。

+ Q：测试样例中会出现何种程度的语法错误？

  + 对于较为明显的语法错误，如在必须的位置缺少`'{'`、`'}'`、`','`、`'#'`等情况，你的程序应当能够直接报出`syntax error`。对于一些“软性”的问题，如逗号前后有无空格（测试样例中均不会有）、等号两边有无空格（测试样例中等号两侧均有且仅有一个），你可以自行选择是否报错。

+ Q：是否会出现两条转移方程拥有相同的旧状态和旧符号组、输入符号集不在纸带符号集中、转移方程涉及符号不在纸带符号集中……等各种定义不自洽的情况？

  + 测试样例中不会考察类似情况。但鼓励有余力的同学实现这些报错功能，这对于你自己编写`.tm`文件的过程有不小帮助。

+ Q：转移函数中是否可能会出现这种情况？

  ```.tm
  state1 * * r state1
  state1 a a r state1
  ```

  + 测试样例中不会考察这种情况，你可以自行选择是否报错。如果将`'*'`定义为“若有其他更为具体的转移就走其他转移，否则走这条转移”，在多纸带的情况下可能会引入一些极为复杂的实现要求，因此本次实验不做考察。

### 程序输入相关

+ Q：是否能认为输入的`-h`等参数一定在`<filename>`等参数的前面？

  + 是的。

+ Q：会出现未定义的输入参数吗？

  + 不会。

+ Q：输入的`<filename>`字段是否为完整相对路径？是否需要自行增加`../programs/`等前缀？

  + 是完整相对路径，无需在实现中自行增加任何前缀。

+ Q：输入中可能包含空串吗？如何输入？

  + 可能。如果在测试样例中出现了需要输入空串的情况，我们会利用linux系统shell对双引号的特殊处理进行传参。linux系统的shell会将双引号括起来的内容视为字符串。如果打一对双引号，里面什么都不加，shell依然会将引号中的内容（即空串）作为参数交给程序。处理这种输入方式完全不需要做额外的逻辑，如果已经实现了缺省参数视为空串的逻辑也无需修改，能兼容这种传参方式就可以。例如对任务三第二题的程序按以下方式传参，应当得到的结果为：

    ```shell
    $ ./turing case2.tm ""
    true
    ```

### 程序输出相关

+ Q：能否在模拟完毕后，若途经了终结状态就直接让simulator在上层输出true？
  + 不可以，停机后simulator应当忠实地打印第一条纸带上的内容。也不可以让simulator在第一条纸带上写入true后再打印，写入纸带的工作必须在tm的层面上完成。为了避免类似的面向tm实现simulator的行为，我们会使用一个对tm行为绝对忠实的golden version去测试你们在任务三中实现的图灵机程序。
+ Q：若图灵机运行完毕后第一条纸带内容为空，此时simulator如何输出？

  + 输出一空行即可。
+ Q：纸带是否可能会出现两个非空符号之间夹着空符号的情况？如果有可能，该如何处理？
  + 虽然这种情况并不难处理（仅忽视纸带上最左非空符号左侧的空符号，以及最右非空符号右侧的空符号），但测试样例中依然不会出现。
+ Q：处理verbose模式下的输出太难了，能不能不保证位宽增长了之后的对齐鸭？
  + 至少对于纸带下标为两位数的情况，需要能够支持正确的对齐。用到100格纸带很难，但10格还是非常可能的。
